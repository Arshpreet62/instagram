import React, { useContext, useEffect, useState } from "react";
import { Link, useLocation, useRoute } from "wouter";
import Context from "./context/Context";
import { AiOutlinePlus } from "react-icons/ai";

export default function Navi() {
  const { user } = useContext(Context);
  const [img, setImg] = useState("/");
  const [location] = useLocation();

  useEffect(() => {
    if (user.length > 0) {
      setImg(user);
    }
  }, [user]);
  return (
    <div className="flex justify-between  h-[45px] w-full">
      <Link to="/">
        <div className="flex  justify-center items-center h-[45px] min-w-[75px] ">
          {location === "/" ? (
            <svg
              className="z-50"
              width="22"
              height="25"
              viewBox="0 0 22 25"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M11.7 0.904491L21.7 10.7059C21.8919 10.894 22 11.1514 22 11.4201V23.4997C22 23.7758 21.7761 23.9997 21.5 23.9997H14.5C14.2239 23.9997 14 23.7758 14 23.4997V18C14 16.4023 12.7511 15.0963 11.1763 15.0051L11 15C9.40232 15 8.09634 16.2489 8.00509 17.8237L8 18V23.4997C7.99998 23.7758 7.77613 23.9996 7.5 23.9997L0.5 24C0.25454 24 0.0503841 23.8231 0.00803813 23.5899L0 23.5V11.4201C0 11.1514 0.108129 10.894 0.300019 10.7059L10.3 0.904491C10.6889 0.523373 11.3111 0.523373 11.7 0.904491Z"
                fill="#262626"
              />
            </svg>
          ) : (
            <svg
              width="22"
              height="25"
              viewBox="0 0 22 25"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M21.7 10.7059L11.7 0.904491C11.3111 0.523373 10.6889 0.523373 10.3 0.904491L0.300019 10.7059C0.108129 10.894 0 11.1514 0 11.4201V23.5L0.00804008 23.5899C0.0503849 23.8231 0.25454 24 0.5 24L8.5 23.9997C8.77613 23.9996 8.99998 23.7758 9 23.4997V18L9.00509 17.8237C9.09634 16.2489 9.40232 15 11 15L11.1763 15.0051C12.6344 15.0896 12.9558 16.2155 12.9955 17.6501L13 18V23.4997C13 23.7758 13.2239 23.9996 13.5 23.9997L21.5 24L21.5899 23.9919C21.8231 23.9496 22 23.7455 22 23.5V11.4201C22 11.1514 21.8919 10.894 21.7 10.7059ZM1.5 11.6301L11 2.31877L20.5 11.6301V22.4999L14.5 22.4997V18L14.4953 17.6307C14.4284 15.2006 13.5423 13.6397 11.263 13.5076L11.0433 13.5006C8.55145 13.5 7.66187 15.0746 7.5076 17.737L7.50063 17.9567L7.50011 22.4997L1.5 22.4999V11.6301Z"
                fill="#262626"
              />
            </svg>
          )}
        </div>
      </Link>
      <Link to="/Search">
        <div className="flex justify-center items-center h-[45px] w-[75px]">
          {location === "/Search" ? (
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M19.6911 9.819C19.6911 4.39544 15.2824 0 9.84556 0C4.40868 0 0 4.39544 0 9.819C0 15.2426 4.40868 19.638 9.84556 19.638C11.91 19.638 13.8778 19.0012 15.519 17.8449L21.01 23.307C21.2059 23.5013 21.5223 23.5006 21.7174 23.3055L23.3073 21.7102C23.5007 21.5162 23.5019 21.2027 23.3101 21.0071L17.8897 15.482C19.0512 13.8443 19.6911 11.88 19.6911 9.819ZM3.55 9.85C3.55 6.37061 6.37061 3.55 9.85 3.55C13.3294 3.55 16.15 6.37061 16.15 9.85C16.15 13.3294 13.3294 16.15 9.85 16.15C6.37061 16.15 3.55 13.3294 3.55 9.85Z"
                fill="#262626"
              />
            </svg>
          ) : (
            <svg
              width="25"
              height="25"
              viewBox="0 0 25 25"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M19.75 10C19.75 4.61522 15.3848 0.25 10 0.25C4.61522 0.25 0.25 4.61522 0.25 10C0.25 15.3848 4.61522 19.75 10 19.75C12.4226 19.75 14.6388 18.8664 16.344 17.404L22.3336 23.3943L22.4177 23.4669C22.7114 23.6848 23.128 23.6606 23.3943 23.3943C23.6872 23.1014 23.6872 22.6265 23.3943 22.3336L17.404 16.344C18.8664 14.6388 19.75 12.4226 19.75 10ZM1.75 10C1.75 5.44365 5.44365 1.75 10 1.75C14.5563 1.75 18.25 5.44365 18.25 10C18.25 14.5563 14.5563 18.25 10 18.25C5.44365 18.25 1.75 14.5563 1.75 10Z"
                fill="#262626"
              />
            </svg>
          )}
        </div>
      </Link>
      <Link to="/Post">
        <div className="flex text-black justify-center items-center h-[45px] w-[75px]">
          <div
            className={`flex justify-center items-center ${
              location === "/Post" && "bg-black"
            } h-6 w-6 border-[2px] border-black text-[30px] rounded-lg`}
          >
            <AiOutlinePlus
              size={50}
              color={location === "/Post" ? "white" : "black"}
            />
          </div>
        </div>
      </Link>
      <Link to="/Likes">
        <div className="flex justify-center items-center h-[45px] w-[75px]">
          {location === "/Likes" ? (
            <svg
              width="24"
              height="21"
              viewBox="0 0 24 21"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M11.2175 1.88951L11.8725 2.65511L12.6042 1.88951C15.179 -0.685229 19.1711 -0.565474 21.8185 1.88951L22.005 2.06914C24.5798 4.64387 23.9489 9.79014 21.4939 12.4375L21.171 12.7788L20.8115 13.1454C19.4262 14.5366 12.8077 20.2293 12.8077 20.2293C12.2439 20.6986 11.4234 20.6913 10.8681 20.212L8.85115 18.4612L7.05542 16.8815C4.92092 14.9887 3.31874 13.5074 2.24888 12.4375C-0.387159 9.80151 -0.894471 4.70518 1.74157 2.06914C4.37761 -0.5669 8.58142 -0.746533 11.2175 1.88951Z"
                fill="#262626"
              />
            </svg>
          ) : (
            <svg
              className="fill-black"
              width="24"
              height="21"
              viewBox="0 0 24 21"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                clipRule="evenodd"
                d="M11.8725 2.65511L11.2175 1.88951C8.58142 -0.746533 4.37761 -0.5669 1.74157 2.06914C-0.894471 4.70518 -0.387159 9.80151 2.24888 12.4375C3.31874 13.5074 4.92092 14.9887 7.05542 16.8815L8.85115 18.4612L10.8681 20.212C11.4234 20.6913 12.2439 20.6986 12.8077 20.2293L14.4416 18.8594C17.3029 16.4413 19.4262 14.5366 20.8115 13.1454L21.171 12.7788L21.4939 12.4375C23.9489 9.79014 24.5798 4.64387 22.005 2.06914L21.8185 1.88951C19.1711 -0.565474 15.179 -0.685229 12.6042 1.88951L11.8725 2.65511ZM2.80223 3.1298C4.88666 1.04537 8.11137 0.947647 10.118 2.91183L11.8111 4.89048L13.6886 2.92588C15.6145 1.00055 18.6838 1.02838 20.7986 2.98939L20.9645 3.14958C22.7839 4.96937 22.4744 9.17411 20.394 11.4176L20.0815 11.7477L19.7348 12.1012C18.5864 13.2537 16.8845 14.7978 14.6405 16.7208L13.4734 17.7138L11.8481 19.0764L9.83442 17.3285L8.39319 16.0625C6.36239 14.2676 4.79575 12.832 3.69885 11.7613L3.30954 11.3769C1.138 9.20535 0.866398 5.06563 2.80223 3.1298Z"
              />
            </svg>
          )}
        </div>
      </Link>
      <Link to="/Profile">
        <div className="flex justify-center items-center min-h-[45px] min-w-[75px]">
          <div
            className={`flex justify-center items-center min-h-[27px] min-w-[27px] rounded-full ${
              location === "/Profile" && "bg-black"
            }`}
          >
            {user && (
              <img
                src={img[0].img}
                alt="profile"
                className=" w-[25px] h-[25px] rounded-full border-[2px] border-white"
              />
            )}
          </div>
        </div>
      </Link>
    </div>
  );
}
